@model MultiPlex.Core.Data.Models.Wiki
@{
    ViewBag.Title = "Details";
}

<h2>Details</h2>

<div>
    <h4>Wiki</h4>
    <hr />
    <table class="table">
        
        <tbody>
            <tr>
                <td>
                    <dl class="dl-horizontal">
                        <dt>
                            @Html.DisplayNameFor(model => model.Name)
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.Name)
                        </dd>

                        <dt>
                            @Html.DisplayNameFor(model => model.Description)
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.Description)
                        </dd>
                        @*<dt>
                            @Html.DisplayNameFor(model => model.Admininstrator)
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.Admininstrator)
                        </dd>*@
                        <dd>
                            @Html.DisplayNameFor(model => model.Moderators)
                        </dd>
                        @*<dt>
                            <ul class="nav navbar-nav">
                                @{
                                    var mods = Model.Moderators;
                                    foreach (var mod in mods)
                                    {
                                        <li> @Html.DisplayForModel(mod.UserName.ToString());  </li>
                                    }

                                }
                            </ul>
                        </dt>*@
                   
                </td>
                <td>             
                   @*@Html.DisplayNameFor(model => model.Categories);*@
                    <ul class="nav navbar-nav">
                        @{
                            var categories = Model.Categories;

                            @Html.ActionLink("Create New Category", "CreateCategories", new
                           {
                               wikiname = Model.Name
                           });
                            <br/>

                            if (categories.Count > 0)
                            {
                                foreach (var cat in categories)
                                {
                                @Html.ActionLink(cat.Title, "ListTitles", new { wikiname = Model.Name,
                               cid = cat.Id });<br/>

                                }
                            }
                           
                          
                                }
                     </ul>

</td>
            </tr>
    </tbody>
    </table>
</div>
<p>
    @Html.ActionLink("Edit", "EditWiki", new { wikiname = Model.Name }) |
    @Html.ActionLink("Request Moderator Invitation", "RequestModeratorInvite", "WikiManager", new { wikiname = Model.Name },
    htmlAttributes:null) |
    @Html.ActionLink("Back to List", "Index")
</p>
